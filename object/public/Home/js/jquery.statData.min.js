!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(module,exports,__webpack_require__){xmstMd5=__webpack_require__(2),__webpack_require__(3),document.querySelectorAll||(document.querySelectorAll=function(t){var e,n=document.createElement("style"),o=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=t+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)e=document._qsa.shift(),e.style.removeAttribute("x-qsa"),o.push(e);return document._qsa=null,o}),~function($){function getPcid(){var t=/\/(index.php|index.html|index.htm|index)$/,e=location.protocol+"//",n=location.host,o=location.pathname.replace(t,"/"),r=e+n+o;return xmstMd5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:r)}function getCookie(t){for(var e=document.cookie,n=removeBlanks(e),o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split("=");if(i.length>1&&i[0]==t)return i[1]}return""}function removeBlanks(t){for(var e="",n=0;n<t.length;n++){var o=t.charAt(n);" "!=o&&(e+=o)}return e}function getRandomNum(){return Math.round(2147483647*Math.random())}function getVistor(t){var e=getCookie("xm_vistor"),n=!0,o="",r=0,i=(new Date).getTime();if(""!==e){var a=e.split("-");2==a.length&&(o=a[0],r=a[1],18e5>=i-r&&(n=!1))}return n&&(o=t+"_"+i),r=i,o}function getMstuid(){var t=new Date,e=t.getTime()+"_"+Math.round(1e4*Math.random());return e}function getLanguage(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}function getVendor(){return navigator.vendor}function getPlatform(){return navigator.platform}function getScreen(){return screen.width+"*"+screen.height}function _init(){_isInitialized||(_defaultSettings={elements_selector:"img",container:window,threshold:300,throttle:300,skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},_supportsAddEventListener=!!window.addEventListener,_supportsAttachEvent=!!window.attachEvent,_supportsClassList=!!document.body.classList,_isInitialized=!0)}function _addEventListener(t,e,n){return _supportsAddEventListener?void t.addEventListener(e,n):void(_supportsAttachEvent&&(t.attachEvent("on"+e,function(t){return function(){n.call(t,window.event)}}(t)),t=null))}function _removeEventListener(t,e,n){return _supportsAddEventListener?void t.removeEventListener(e,n):void(_supportsAttachEvent&&t.detachEvent("on"+e,n))}function _isInsideViewport(t,e,n){function o(){return window.innerWidth||d.documentElement.clientWidth||document.body.clientWidth}function r(){return window.innerHeight||d.documentElement.clientHeight||document.body.clientHeight}function i(t){return t.getBoundingClientRect().top+p-d.documentElement.clientTop}function a(t){return t.getBoundingClientRect().left+m-d.documentElement.clientLeft}function s(){var o;return o=e===window?r()+p:i(e)+e.offsetHeight,o<=i(t)-n}function l(){var r;return r=e===window?o()+window.pageXOffset:a(e)+o(),r<=a(t)-n}function u(){var o;return o=e===window?p:i(e),o>=i(t)+n+t.offsetHeight}function c(){var o;return o=e===window?m:a(e),o>=a(t)+n+t.offsetWidth}var d,p,m;return d=t.ownerDocument,p=window.pageYOffset||d.body.scrollTop,m=window.pageXOffset||d.body.scrollLeft,!(s()||u()||l()||c())}function _now(){var t=new Date;return t.getTime()}function _merge_objects(t,e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}function _convertToArray(t){try{return Array.prototype.slice.call(t)}catch(e){var n,o=[],r=t.length;for(n=0;r>n;n++)o.push(t[n]);return o}}function _bind(t,e){return function(){return t.apply(e,arguments)}}function LazyLoad(t){_init(),this._settings=_merge_objects(_defaultSettings,t),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=_bind(this.handleScroll,this),_addEventListener(window,"resize",this._handleScrollFn),this.update()}var _defaultSettings,_supportsAddEventListener,_supportsAttachEvent,_supportsClassList,_isInitialized=!1,exposure=null,msf=function(){this.p=[]};msf.prototype.push=function(t){return"function"==typeof t[0]?void t[0](t.slice(1)):void(("setDomainId"==t[0]||"setVars"==t[0])&&this[t[0]](t.slice(1)))},msf.prototype.setVars=function(t){vars[t[0]]=t[1]},msf.prototype.setDomainId=function(t){vars.domain_id=t[0]};var _msf=new msf;_msf.p=window._msq.p;var initMsq=function(){for(i=0;i<_msf.p.length;i++)_msf.push(_msf.p[i])},vars=[];initMsq();var userAgent=navigator.userAgent.toLowerCase(),_we=window.WE||{},isApp=function(){return"undefined"!=typeof WE&&-1!==userAgent.indexOf("xiaomi/miuibrowser/4.3/shop")&&-1===userAgent.indexOf("iphone")?!0:!1}(),triggerString=function(t){return _we.triggerString&&_we.triggerString(t,"")||""};LazyLoad.prototype._loopThroughElements=function(){var i,element,settings=this._settings,elements=this._elements,elementsLength=elements?elements.length:0,insideLogs=[],insideLogCodes=[],logValue="",logCodeValue="",processedIndexes=[];for(i=0;elementsLength>i;i++)element=elements[i],settings.skip_invisible&&null===element.offsetParent||_isInsideViewport(element,settings.container,settings.threshold)&&((logValue=element.getAttribute("data-log_code"))&&(insideLogs.push(logValue),(logCodeValue=element.getAttribute("onclick"))&&(logCodeValue=eval(logCodeValue.replace("_msq.push","")),5==logCodeValue.length&&insideLogCodes.push(logCodeValue[1]))),processedIndexes.push(i),element.wasProcessed=!0);for(insideLogs.length&&this._sendData(insideLogCodes.join(";"),encodeURIComponent(insideLogs.join(";")));processedIndexes.length>0;)elements.splice(processedIndexes.pop(),1),settings.callback_processed&&settings.callback_processed(elements.length);0===elementsLength&&this._stopScrollHandler()},LazyLoad.prototype._sendData=function(t,e){vars.pageid=getPcid();var n=xmstTools.getBaseParam(vars),o=xmstTools.getVars(vars),r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="//a.stat.xiaomi.com/js/mstr.js?"+n+o+"&type=sp&logs="+t+"&log_codes="+e;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)},LazyLoad.prototype._purgeElements=function(){var t,e,n=this._elements,o=n.length,r=[];for(t=0;o>t;t++)e=n[t],e.wasProcessed&&r.push(t);for(;r.length>0;)n.splice(r.pop(),1)},LazyLoad.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,_addEventListener(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,_removeEventListener(this._settings.container,"scroll",this._handleScrollFn))},LazyLoad.prototype.handleScroll=function(){var t,e,n;this._settings&&(e=_now(),n=this._settings.throttle,0!==n?(t=n-(e-this._previousLoopTime),0>=t||t>n?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(_bind(function(){this._previousLoopTime=_now(),this._loopTimeout=null,this._loopThroughElements()},this),t))):this._loopThroughElements())},LazyLoad.prototype.update=function(){this._elements=_convertToArray(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},LazyLoad.prototype.destroy=function(){_removeEventListener(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null};var defaults={propertyName:"data-stat-id",urlParam:"stat",needMap:!0,domain:".mi.com",live:!1},_Options,_Global={parentLoop:!1,sonLoop:!1,drawDataScript:"//c1.mifile.cn/f/i/15/stat/js/jquery.dataDraw.min.js",jquerySource:"//s01.mifile.cn/js/lib/jquery.min.js",re:{normalEnd:/\/(index.php|index.html|index.htm|index)$/,snapshotModalDate:/^(\/\d{10}\/)/,snapshotModalEnd:/.html$/},locationObj:{protocol:location.protocol+"//",host:location.host,pathname:location.pathname}},linksignCommon={isSnapshotModal:function(){return"file.stat.be.xiaomi.com"==location.host?!0:!1},hashSnapshotModal:function(){return _Global.locationObj.protocol+location.pathname.replace(_Global.re.snapshotModalDate,"").replace(_Global.re.snapshotModalEnd,"").replace(_Global.re.normalEnd,"/")},getPageHash:function(){var t=_Global.locationObj;t.pathname=t.pathname.replace(_Global.re.normalEnd,"/");var e=this.isSnapshotModal()?this.hashSnapshotModal():objectValues(t,"");return xmstMd5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:e)},isOpenCanvas:function(){return _Options.needMap&&getLocationName(_Options.urlParam,"search")&&"true"==getLocationName(_Options.urlParam,"search")?!0:!1},trim:function(t){try{return t.replace(/\s/g,"")}catch(e){return t}},appendStatModal:function(t){var e=linksignCommon.trim(t.attr("href"))||"";if(this.isOpenCanvas()&&-1!=e.indexOf("/")&&(-1==e.indexOf("http")||-1!=e.indexOf(_Options.domain))){var n,o=(_Options.urlParam+"=true",{hashName:e.split("#"),searchName:e.split("?")});if(this.isSnapshotModal()){var r=o.searchName[0].replace("http://",""),i=location.pathname.replace(_Global.re.snapshotModalDate,"").replace(_Global.re.snapshotModalEnd,"");n=location.href.replace(i,r)}else n=o.hashName[1]?o.hashName[0]+"?"+_Options.urlParam+"=true#"+o.hashName[1]:o.searchName[1]?e+"&"+_Options.urlParam+"=true":e+"?"+_Options.urlParam+"=true";t.attr("href",n)}}},linkDataSign=function(){xmstTools.loadScript(_Global.drawDataScript,function(t,e,n){$("body").linkSigntoDraw({pageID:linksignCommon.getPageHash()})})},getLocationName=function(t,e){var n="",o=!1,r="hash"==e?location.hash:location.search,i="hash"==e?"#":"?";if(0===r.length)return n;if(0==r.indexOf(i)&&r.indexOf("=")>1)for(var a=r.substring(1,r.length).split("&"),s=0;s<a.length&&!o;)a[s].indexOf("=")>0&&a[s].split("=")[0].toLowerCase()==t.toLowerCase()&&(n=a[s].split("=")[1],o=!0),s++;return n},_setAttrs=function(t,e,n){var o=$(t).hasClass("J_linksign-customize"),r=o?$(t).children():$(t).find("a"),i={page:linksignCommon.getPageHash(),point:null},a=r.length-1,s=linksignCommon.isOpenCanvas();e===n&&(_Global.parentLoop=!0),r.each(function(t,n){if("true"!=$(n).attr("data-stat-exclude")){var r=linksignCommon.trim($(n).attr("href"))||$(n).attr("data-stat-productid")||"",l=linksignCommon.trim($(n).text()),u=$(n).parent().parent().attr("class")||$(n).parent().parent().parent().attr("class")||"",c=e+""+t,d=$(n).attr("data-stat-aid"),p=$(n).attr("data-stat-pid"),m=$(n).attr("data-log_code")||"";r=-1!==r.indexOf(_Options.domain)?r.split("?")[0]:r;var h=r+l+u;h=o?h+c:h,i.point=p?d+"+"+p:xmstMd5(h);var f=$(n).attr("onclick")||"",g=_trackEvent(objectValues(i,"-"),r,m),_=g+f;$(n).attr(_Options.propertyName)||$(n).attr(_Options.propertyName,i.point).attr("onclick",_),linksignCommon.appendStatModal($(n)),_Global.parentLoop===!0&&t===a&&s&&(_Global.sonLoop=!0,linkDataSign())}})},_trackEvent=function(t,e,n){var o=xmstTools.stripscript("'trackEvent', '"+t+"', '"+e+"', 'pcpid', '"+n+"'");return"_msq.push(["+o+"]);"},objectValues=function(t,e){var n=[];if("undefined"!=typeof t)for(var o in t){var r=t[o];r=null==r||""==r?"00":r,n.push(r)}return n.join(e)},loadData=function(){$.fn.linkSign=function(t){_Options=$.extend(defaults,t);var e=this.length-1;this.each(function(t,n){_setAttrs(this,t,e)}),exposure?exposure.update():exposure=new LazyLoad({elements_selector:".exposure"})},$(function(){$("body,.J_linksign-customize").linkSign()})};$?loadData():/http(s)?:\/\/m\.mi\.com/i.test(location.href)?timer=window.setInterval(function(){Zepto?(window.clearInterval(timer),loadData()):loadData()},100):xmstTools.loadScript("//c1.mifile.cn/f/i/15/stat/js/zepto.1.1.6.js",function(){$=Zepto,loadData()})}(window.jQuery||window.Zepto)},function(t,e,n){var o;!function(r){"use strict";function i(t,e){var n=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(n>>16);return o<<16|65535&n}function a(t,e){return t<<e|t>>>32-e}function s(t,e,n,o,r,s){return i(a(i(i(e,t),i(o,s)),r),n)}function l(t,e,n,o,r,i,a){return s(e&n|~e&o,t,e,r,i,a)}function u(t,e,n,o,r,i,a){return s(e&o|n&~o,t,e,r,i,a)}function c(t,e,n,o,r,i,a){return s(e^n^o,t,e,r,i,a)}function d(t,e,n,o,r,i,a){return s(n^(e|~o),t,e,r,i,a)}function p(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var n,o,r,a,s,p=1732584193,m=-271733879,h=-1732584194,f=271733878;for(n=0;n<t.length;n+=16)o=p,r=m,a=h,s=f,p=l(p,m,h,f,t[n],7,-680876936),f=l(f,p,m,h,t[n+1],12,-389564586),h=l(h,f,p,m,t[n+2],17,606105819),m=l(m,h,f,p,t[n+3],22,-1044525330),p=l(p,m,h,f,t[n+4],7,-176418897),f=l(f,p,m,h,t[n+5],12,1200080426),h=l(h,f,p,m,t[n+6],17,-1473231341),m=l(m,h,f,p,t[n+7],22,-45705983),p=l(p,m,h,f,t[n+8],7,1770035416),f=l(f,p,m,h,t[n+9],12,-1958414417),h=l(h,f,p,m,t[n+10],17,-42063),m=l(m,h,f,p,t[n+11],22,-1990404162),p=l(p,m,h,f,t[n+12],7,1804603682),f=l(f,p,m,h,t[n+13],12,-40341101),h=l(h,f,p,m,t[n+14],17,-1502002290),m=l(m,h,f,p,t[n+15],22,1236535329),p=u(p,m,h,f,t[n+1],5,-165796510),f=u(f,p,m,h,t[n+6],9,-1069501632),h=u(h,f,p,m,t[n+11],14,643717713),m=u(m,h,f,p,t[n],20,-373897302),p=u(p,m,h,f,t[n+5],5,-701558691),f=u(f,p,m,h,t[n+10],9,38016083),h=u(h,f,p,m,t[n+15],14,-660478335),m=u(m,h,f,p,t[n+4],20,-405537848),p=u(p,m,h,f,t[n+9],5,568446438),f=u(f,p,m,h,t[n+14],9,-1019803690),h=u(h,f,p,m,t[n+3],14,-187363961),m=u(m,h,f,p,t[n+8],20,1163531501),p=u(p,m,h,f,t[n+13],5,-1444681467),f=u(f,p,m,h,t[n+2],9,-51403784),h=u(h,f,p,m,t[n+7],14,1735328473),m=u(m,h,f,p,t[n+12],20,-1926607734),p=c(p,m,h,f,t[n+5],4,-378558),f=c(f,p,m,h,t[n+8],11,-2022574463),h=c(h,f,p,m,t[n+11],16,1839030562),m=c(m,h,f,p,t[n+14],23,-35309556),p=c(p,m,h,f,t[n+1],4,-1530992060),f=c(f,p,m,h,t[n+4],11,1272893353),h=c(h,f,p,m,t[n+7],16,-155497632),m=c(m,h,f,p,t[n+10],23,-1094730640),p=c(p,m,h,f,t[n+13],4,681279174),f=c(f,p,m,h,t[n],11,-358537222),h=c(h,f,p,m,t[n+3],16,-722521979),m=c(m,h,f,p,t[n+6],23,76029189),p=c(p,m,h,f,t[n+9],4,-640364487),f=c(f,p,m,h,t[n+12],11,-421815835),h=c(h,f,p,m,t[n+15],16,530742520),m=c(m,h,f,p,t[n+2],23,-995338651),p=d(p,m,h,f,t[n],6,-198630844),f=d(f,p,m,h,t[n+7],10,1126891415),h=d(h,f,p,m,t[n+14],15,-1416354905),m=d(m,h,f,p,t[n+5],21,-57434055),p=d(p,m,h,f,t[n+12],6,1700485571),f=d(f,p,m,h,t[n+3],10,-1894986606),h=d(h,f,p,m,t[n+10],15,-1051523),m=d(m,h,f,p,t[n+1],21,-2054922799),p=d(p,m,h,f,t[n+8],6,1873313359),f=d(f,p,m,h,t[n+15],10,-30611744),h=d(h,f,p,m,t[n+6],15,-1560198380),m=d(m,h,f,p,t[n+13],21,1309151649),p=d(p,m,h,f,t[n+4],6,-145523070),f=d(f,p,m,h,t[n+11],10,-1120210379),h=d(h,f,p,m,t[n+2],15,718787259),m=d(m,h,f,p,t[n+9],21,-343485551),p=i(p,o),m=i(m,r),h=i(h,a),f=i(f,s);return[m,h]}function m(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function h(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function f(t){return m(p(h(t),8*t.length))}function g(t,e){var n,o,r=h(t),i=[],a=[];for(i[15]=a[15]=void 0,r.length>16&&(r=p(r,8*t.length)),n=0;16>n;n+=1)i[n]=909522486^r[n],a[n]=1549556828^r[n];return o=p(i.concat(h(e)),512+8*e.length),m(p(a.concat(o),640))}function _(t){var e,n,o="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=o.charAt(e>>>4&15)+o.charAt(15&e);return r}function v(t){return unescape(encodeURIComponent(t))}function w(t){return f(v(t))}function y(t){return _(w(t))}function x(t,e){return g(v(t),v(e))}function L(t,e){return _(x(t,e))}function S(t,e,n){return e?n?x(e,t):L(e,t):n?w(t):y(t)}o=function(){return S}.call(e,n,e,t),!(void 0!==o&&(t.exports=o))}(this)},function(t,e){xmstTools=function(){function t(){var t=navigator.userAgent.toLowerCase();return"undefined"!=typeof WE&&-1!==t.indexOf("xiaomi/miuibrowser/4.3/shop")&&-1===t.indexOf("iphone")?!0:!1}function e(t){var e=window.WE||{};return e.triggerString&&e.triggerString(t,"")||""}function n(){var t=window.location.hostname,e=t.split(".");size=e.length;var n="."+e[size-2]+"."+e[size-1];return n}function o(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}function r(){return navigator.vendor}function i(){return navigator.platform}function a(){return screen.width+"*"+screen.height}function s(t,e,n,o){var r=arguments.length,i=new Date;i.setTime(i.getTime()+31104e6),document.cookie=3===r?t+"="+e+";path=/;domain="+n:t+"="+e+";path=/;domain="+n+";expires="+o}function l(t){for(var e=document.cookie,n=u(e),o=n.split(";"),r=0;r<o.length;r++){var i=o[r].split("=");if(i.length>1&&i[0]===t)return i[1]}return""}function u(t){for(var e="",n=0;n<t.length;n++){var o=t.charAt(n);" "!==o&&(e+=o)}return e}function c(t){try{return t.replace(/\s/g,"")}catch(e){return t}}function d(){return Math.round(2147483647*Math.random())}function p(t){var e=document.createElement("a");return e.href=t,e.hostname}function m(){var t=new Date,e=t.getTime()+"_"+Math.round(1e4*Math.random());return e}function h(t){var e="";if(t===[])return"";for(var n in t)e+="&"+n+"="+encodeURIComponent(t[n]);return e}function f(t){w(t)}function g(t){return"function"==typeof t}function _(t,e){var n,o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;n=document.createElement("script"),n.async="async",n.src=t,n.onload=n.onreadystatechange=function(){(!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n),n=void 0,e())},o.insertBefore(n,o.firstChild)}function v(t,e){for(var n in e)if(e[n]==t)return!0;return!1}function w(t){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}function y(t){var e=l("xm_vistor"),o=!0,r="",i=0,a=(new Date).getTime();if(""!==e){var u=e.split("-");2==u.length&&(r=u[0],i=u[1],18e5>=a-i&&(o=!1))}return o&&(r=t+"_"+a),i=a,s("xm_vistor",r+"-"+i,n()),r}function x(t,e){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(e=e||o.length,t)for(n=0;t>n;n++)r[n]=o[0|Math.random()*e];else{var i;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;36>n;n++)r[n]||(i=0|16*Math.random(),r[n]=o[19==n?3&i|8:i])}return r.join("")}function L(){var t,e,n;return n=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e=function o(t,e){var r;for(r in t)if(t.hasOwnProperty(r)){if(n(t[r])&&n(e[r])&&o(t[r],e[r]),e.hasOwnProperty(r))continue;e[r]=t[r]}},t=function(){var t,o=arguments,r={};if(!o.length)return{};for(t=o.length-1;t>=0;t--)n(o[t])&&e(o[t],r);return o[0]=r,r}}function S(u){var c=document.location.href.replace(/&/g,"|"),h=document.referrer.replace(/&/g,"|");if(h=h.toLowerCase()){var f=p(h),g=l("lastsource");g&&s("lastsource",g,n()),(f.indexOf(".mi.com")<0||f.indexOf("s1.mi.com")>-1||f.indexOf("p.www.xiaomi.com")>-1||f.indexOf("a.union.mi.com")>-1)&&s("lastsource",f,n())}var _=l("xm_www_sid"),v=l("mstuid"),w=l("muuid"),L=l("mucid"),S=l("mutid"),T=l("mstz")||"";if(""===T||T.split("|").length<3){var b=[];b[0]="",b[1]="",b[2]=d().toString()+".0";var E="mstz",A=b.join("|");s(E,A,n())}T=l("mstz");var O=T.split("|")||[],C=(4==O.length?0:1,O[0]||""),M=O[1]||"",k=[];k=O[2].split(".");var N=k[0],j=parseInt(k[1])+1;O[2]=k[0]+"."+j.toString();var H=O[3]||"",D=O[4]||"",$=O[5]||"",P=0,q=encodeURIComponent(h);""==q&&(D="",$=""),q!=D&&c!=h?($=D,D=q):""!=q&&(P=1),O[3]=H,O[4]=D,O[5]=$,s("mstz",O.join("|"),n());var z=l("lastsource"),I=0,V=new Date;V.setTime(V.getTime()+62208e6),""===v&&(I=1,v=m()),s("mstuid",v,n(),V.toGMTString());var B="",G=new Date;u.curl=void 0===u.curl||""==u.curl?location.href:u.curl,u.xmv=y(v),u.v=version,void 0===u.vuuid&&(u.vuuid=x(16,32));var R=l("userId"),W="";return t&&(R||(R=e("get_encrypt_uid")),W=e("get_shop_deviceid")),B="mid="+(l("euid")||R)+"&device_id="+W+"&phpsessid="+_+"&mstuid="+v+"&muuid="+w+"&mucid="+L+"&sessionId="+N+"&step="+j+"&new_visitor="+I+"&mstprevpid="+encodeURIComponent(C)+"&mstprev_pid_loc="+H+"&prevtarget="+M+"&lastsource="+z+"&timestamp="+G.getTime()+"&ref="+q+"&domain="+n()+"&screen="+a()+"&language="+o()+"&vendor="+r()+"&platform="+i()+"&gu="+$+"&pu="+D+"&rf="+P+"&mutid="+S+"&muwd="+encodeURIComponent(l("muwd"))}function T(){var t=/\/(index.php|index.html|index.htm|index)$/,e=location.protocol+"//",n=location.host,o=location.pathname.replace(t,"/"),r=e+n+o;return xmstMd5("undefined"!=typeof _STAT_HASHNAME&&""!=_STAT_HASHNAME?_STAT_HASHNAME:r)}function b(){return"file.stat.be.xiaomi.com"==location.host?!0:!1}function E(t,e){var n="",o=!1,r="hash"==e?location.hash:location.search,i="hash"==e?"#":"?";if(0===r.length)return n;if(0==r.indexOf(i)&&r.indexOf("=")>1)for(var a=r.substring(1,r.length).split("&"),s=0;s<a.length&&!o;)a[s].indexOf("=")>0&&a[s].split("=")[0].toLowerCase()==t.toLowerCase()&&(n=a[s].split("=")[1],o=!0),s++;return n}function A(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}function O(t,e){var n=function(){switch(t.constructor){case Object:return"Object";case Array:return"Array";case NodeList:return"NodeList";default:return"null"}}();if("Array"===n||"NodeList"===n)[].every.call(t,function(t,n){return e.call(t,n,t)===!1?!1:!0});else if("Object"===n)for(var o in t)if(e.call(t[o],o,t[o])===!1)break}function C(t){for(var e=new RegExp("[`~!$^*()|{};\\[\\]<>?~！￥……*（）——|{}【】‘；”“。，、？]"),n="",o=0;o<t.length;o++)n+=t.substr(o,1).replace(e,"");return n}({locationObj:{protocol:location.protocol+"//",host:location.host,pathname:location.pathname}});return{isFun:g,getDomain:n,loadScript:_,in_array:v,creatScript:w,isApp:t,triggerString:e,getVars:h,sendData:f,_setCookie:s,removeBlanks:u,getLanguage:o,getVendor:r,getPlatform:i,getScreen:a,getRandomNum:d,getRefDomain:p,getCookie:l,getMstuid:m,uuid:x,getBaseParam:S,getPcid:T,isSnapshotModal:b,getLocationName:E,extend:L,getPropertyCount:A,each:O,trim:c,stripscript:C}}()}]);